{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/georg/IdeaProjects/coffeeshop-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"HomeView\",\n  data: function data() {\n    return {\n      users: []\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getUsers();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    getUsers: function getUsers() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.get(\"http://localhost:8082/user\");\n\n              case 3:\n                result = _context2.sent;\n                _this2.users = result.data;\n                _context2.next = 10;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                alert(\"Cannot read users!\");\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    },\n    deleteUser: function deleteUser(id) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.delete(\"http://localhost:8082/user/\".concat(id));\n\n              case 2:\n                _this3.getUsers();\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACAA,kBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AADA;AAGA,GANA;AAOAC,SAPA,qBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,gBADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GATA;AAUAC;AACAC,YADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEAC,uCAFA;;AAAA;AAEAC,sBAFA;AAGA;AAHA;AAAA;;AAAA;AAAA;AAAA;AAKAC;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASAC,cATA,sBASAC,EATA,EASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACAJ,sDADA;;AAAA;AAEA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAZA;AAVA","names":["name","data","users","created","methods","getUsers","axios","result","alert","deleteUser","id"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\r\n  <v-list three-line>\r\n      <v-list-item v-for=\"(user) in users\" :key=\"user.id\">\r\n        <v-list-item-content>\r\n          <v-list-item-title v-html=\"user.name\"></v-list-item-title>\r\n          <v-list-item-subtitle v-html=\"user.id\"></v-list-item-subtitle>\r\n          <v-list-item-subtitle v-html=\"user.surname\"></v-list-item-subtitle>\r\n          <v-list-item-subtitle v-html=\"user.username\"></v-list-item-subtitle>\r\n          <v-list-item-subtitle v-html=\"user.password\"></v-list-item-subtitle>\r\n        </v-list-item-content>\r\n\r\n        <v-list-item-action>\r\n          <v-btn icon @click=\"$router.push({ name: 'updateUser' })\">\r\n            <v-icon color=\"brown darken-3\">mdi-pencil</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn icon @click=\"deleteUser(book.id)\">\r\n            <v-icon color=\"secondary\">mdi-delete</v-icon>\r\n          </v-btn>\r\n        </v-list-item-action>\r\n      </v-list-item>\r\n    </v-list>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"HomeView\",\r\n  data() {\r\n    return {\r\n      users: [],\r\n    };\r\n  },\r\n  async created() {\r\n    await this.getUsers();\r\n  },\r\n  methods: {\r\n    async getUsers() {\r\n      try {\r\n        var result = await axios.get(\"http://localhost:8082/user\");\r\n        this.users = result.data;\r\n      } catch (e) {\r\n        alert(\"Cannot read users!\");\r\n      }\r\n    },\r\n    async deleteUser(id) {\r\n      await axios.delete(`http://localhost:8082/user/${id}`);\r\n      this.getUsers();\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}