{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/georg/IdeaProjects/coffeeshop-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: 'LoginView',\n  data: function data() {\n    return {\n      username: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(\"http://localhost:8082/user/login\", {\n                  username: _this.username,\n                  password: _this.password\n                });\n\n              case 3:\n                result = _context.sent;\n                window.localStorage.setItem(\"userId\", result.data);\n\n                _this.$router.push({\n                  name: 'home'\n                });\n\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                alert(\"Credentiale incorecte!\");\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC;AAFA;AAIA,GAPA;AAQAC;AACAC,SADA,mBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEAC;AAAAJ;AAAAC;AAAA,kBAFA;;AAAA;AAEAI,sBAFA;AAGAC;;AACA;AAAAR;AAAA;;AAJA;AAAA;;AAAA;AAAA;AAAA;AAMAS;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AATA;AARA","names":["name","data","username","password","methods","login","axios","result","window","alert"],"sourceRoot":"src/views","sources":["LoginView.vue"],"sourcesContent":["<template>\n  <v-form\n    ref=\"form\"\n    class=\"ml-6 mr-6\"\n  >\n    <v-text-field\n      v-model=\"username\"\n      label=\"Username\"\n      required\n    ></v-text-field>\n\n    <v-text-field\n      v-model=\"password\"\n      label=\"Password\"\n      type=\"password\"\n      required\n    ></v-text-field>\n\n    <v-btn\n      color=\"success\"\n      class=\"mr-4\"\n      @click=\"login\"\n    >\n      Login\n    </v-btn>\n\n    <v-btn\n      color=\"error\"\n      class=\"mr-4\"\n      @click=\"$router.push({ name: 'register' })\"\n    >\n      Register\n    </v-btn>\n  </v-form>\n</template>\n\n<script>\n  import axios from \"axios\";\n  export default {\n    name: 'LoginView',\n    data() {\n      return {\n        username: \"\",\n        password: \"\"\n      }\n    },\n    methods: {\n      async login() {\n        try { \n          var result = await axios.post(\"http://localhost:8082/user/login\", { username: this.username, password: this.password });\n          window.localStorage.setItem(\"userId\", result.data);\n          this.$router.push({ name: 'home' });\n        } catch (e) {\n          alert(\"Credentiale incorecte!\");\n        }\n      }\n    }\n  }\n</script>\n"]},"metadata":{},"sourceType":"module"}